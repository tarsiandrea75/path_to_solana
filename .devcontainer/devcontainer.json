{
       "name": "Rust Dev Container",
       "build": {
                "dockerfile": "Dockerfile",
                // --- INIZIO MODIFICHE ---
                "args": {
                // Passa dinamicamente l'utente, l'UID e il GID dal tuo ambiente WSL al Dockerfile
                "USERNAME": "${localEnv:USER}",
                "USER_UID": "1000", // Verifica con 'id -u' nel tuo terminale WSL
                "USER_GID": "1000"  // Verifica con 'id -g' nel tuo terminale WSL
                }
                // --- FINE MODIFICHE ---
        },

        // --- RIGA AGGIUNTA ---
        // Assicura che VS Code si connetta come l'utente corretto
        "remoteUser": "${localEnv:USER}",
        "customizations": {
                "vscode": {
                        "settings": {
                                "terminal.integrated.defaultProfile.linux": "bash",
                                "git.enableCommitSigning": true,
                                "rust-analyzer.check.command": "clippy"
                        },
                        "terminal.integrated.pasteOnRightClick": true,
                        "terminal.integrated.allowPaste": true,
                        "extensions": [
                                "rust-lang.rust-analyzer",
                                "vadimcn.vscode-lldb",
                                "ms-vscode.cpptools",
                                "eamodio.gitlens"
                        ]
                }
        },
        "postCreateCommand": "bash /workspaces/path_to_solana/.devcontainer/post-create.sh"
}
